DROP TABLE IF EXISTS epidb_results_weekly;

CREATE TABLE epidb_results_weekly (
    country character(2),
    global_id character varying(36),
    "timestamp" timestamp with time zone,
    "Q1_0" boolean NOT NULL,
    "Q1_1" boolean NOT NULL,
    "Q1_2" boolean NOT NULL,
    "Q1_3" boolean NOT NULL,
    "Q1_4" boolean NOT NULL,
    "Q1_5" boolean NOT NULL,
    "Q1_6" boolean NOT NULL,
    "Q1_7" boolean NOT NULL,
    "Q1_8" boolean NOT NULL,
    "Q1_9" boolean NOT NULL,
    "Q1_10" boolean NOT NULL,
    "Q1_11" boolean NOT NULL,
    "Q1_12" boolean NOT NULL,
    "Q1_13" boolean NOT NULL,
    "Q1_14" boolean NOT NULL,
    "Q1_15" boolean NOT NULL,
    "Q1_16" boolean NOT NULL,
    "Q1_17" boolean NOT NULL,
    "Q1_18" boolean NOT NULL,
    "Q1_19" boolean NOT NULL,
    "Q2" integer,
    "N1" text,
    "Q3" integer,
    "Q3_0_open" date,
    "Q4" integer,
    "Q4_0_open" date,
    "Q5" integer,
    "Q6" integer,
    "Q6_1_open" date,
    "Q6b" integer,
    "Q6c" integer,
    "Q6d" integer,
    "Q7_0" boolean NOT NULL,
    "Q7_1" boolean NOT NULL,
    "Q7_3" boolean NOT NULL,
    "Q7_2" boolean NOT NULL,
    "Q7_4" boolean NOT NULL,
    "Q7_5" boolean NOT NULL,
    "Q7b" integer,
    "Q8_0" boolean NOT NULL,
    "Q8_1" boolean NOT NULL,
    "Q8_2" boolean NOT NULL,
    "Q8_3" boolean NOT NULL,
    "Q8_4" boolean NOT NULL,
    "Q8_5" boolean NOT NULL,
    "Q8b" integer,
    "Q9_0" boolean NOT NULL,
    "Q9_1" boolean NOT NULL,
    "Q9_2" boolean NOT NULL,
    "Q9_3" boolean NOT NULL,
    "Q9_4" boolean NOT NULL,
    "Q9_5" boolean NOT NULL,
    "Q9_6" boolean NOT NULL,
    "Q9b" integer,
    "Q10" integer,
    "Q10b" integer,
    "Q10c" integer,
    "Q11" integer,
    "Q12_multi_row1_col1" integer,
    "Q13_multi_row1_col1" integer,
    CONSTRAINT "pollster_results_weekly_Q10_check1" CHECK (("Q10" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q10b_check1" CHECK (("Q10b" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q10c_check1" CHECK (("Q10c" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q11_check1" CHECK (("Q11" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q12_multi_row1_col1_check1" CHECK (("Q12_multi_row1_col1" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q13_multi_row1_col1_check1" CHECK (("Q13_multi_row1_col1" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q2_check1" CHECK (("Q2" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q3_check1" CHECK (("Q3" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q4_check1" CHECK (("Q4" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q5_check1" CHECK (("Q5" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q6_check1" CHECK (("Q6" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q6b_check1" CHECK (("Q6b" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q6c_check1" CHECK (("Q6c" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q6d_check1" CHECK (("Q6d" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q7b_check1" CHECK (("Q7b" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q8b_check1" CHECK (("Q8b" >= 0)),
    CONSTRAINT "pollster_results_weekly_Q9b_check1" CHECK (("Q9b" >= 0))
);


INSERT INTO epidb_results_weekly
SELECT 'YOUR-COUNTRY-CODE',
global_id, "timestamp", "Q1_0", "Q1_1", "Q1_2", "Q1_3", "Q1_4", "Q1_5", "Q1_6", "Q1_7", "Q1_8", "Q1_9", "Q1_10", "Q1_11", "Q1_12", "Q1_13", "Q1_14", "Q1_15", "Q1_16", "Q1_17", "Q1_18", "Q1_19", "Q2", "N1", "Q3", "Q3_0_open", "Q4", "Q4_0_open", "Q5", "Q6", "Q6_1_open", "Q6b", "Q6c", "Q6d", "Q7_0", "Q7_1", "Q7_3", "Q7_2", "Q7_4", "Q7_5", "Q7b", "Q8_0", "Q8_1", "Q8_2", "Q8_3", "Q8_4", "Q8_5", "Q8b", "Q9_0", "Q9_1", "Q9_2", "Q9_3", "Q9_4", "Q9_5", "Q9_6", "Q9b", "Q10", "Q10b", "Q10c", "Q11", "Q12_multi_row1_col1", "Q13_multi_row1_col1" FROM pollster_results_weekly;
